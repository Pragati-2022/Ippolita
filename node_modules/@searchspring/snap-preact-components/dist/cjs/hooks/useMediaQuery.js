"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useMediaQuery = void 0;
var hooks_1 = require("preact/hooks");
function useMediaQuery(query, runOnCleanup) {
    if (typeof window === 'undefined' || typeof window.matchMedia === 'undefined')
        return false;
    var mediaQuery = window.matchMedia(query);
    var _a = (0, hooks_1.useState)(!!mediaQuery.matches), match = _a[0], setMatch = _a[1];
    (0, hooks_1.useEffect)(function () {
        var handler = function () { return setMatch(!!mediaQuery.matches); };
        mediaQuery.addListener(handler);
        return function () {
            runOnCleanup instanceof Function && runOnCleanup();
            mediaQuery.removeListener(handler);
        };
    }, []);
    return match;
}
exports.useMediaQuery = useMediaQuery;
